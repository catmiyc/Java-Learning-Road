## 1. Collection

### 1.1 集合知识回顾

集合类的特点： 提供了一种存储空间可变的存储模型，存储的数据的容量可以随时发生改变

![avatar](./images/集合类体系结构.jpg)

### 1.2 Collection 集合概述和使用

- 是单例集合的顶层接口，它表示一组对象，这些对象也称为Collection的元素
- JDK不提供此接口的仁和直接实现，它提供更具体的子接口（如Set和List）实现



**创建Collection集合的对象**

- 多态的方式
- 具体的实现类ArrayList

```java
//创建Collection集合的对象
//多态的方式 ArrayList()
Collection<String> c = new ArrayList<String>();
//集合里添加元素  boolean add(E e)
c.add("hello");
c.add("world");
System.out.println(c);
```

>[hello, world]

### 1.3 Collection集合常用方法

| 方法名                     | 说明                             |
| -------------------------- | -------------------------------- |
| boolean add(E e)           | 添加元素                         |
| boolean remove(Object o)   | 从集合中移除指定的元素           |
| void clear()               | 清空集合中的元素                 |
| boolean contains(Object o) | 判断集合中是否存在指定的元素     |
| boolean isEmpty()          | 判断集合是否为空                 |
| int size()                 | 集合长度，也就是集合中元素的个数 |



### 1.4 Collection 集合的遍历

Iterator：迭代器，集合的专用遍历方式

- Iterator<E> iterator()：返回此集合中元素的迭代器，通过集合的iterator()方法得到
- 迭代器是通过集合的iterator()方法得到的，所以我们说它是依赖于集合而存在

Iterator中常用的方法

- E next()：返回迭代的下一个元素
- boolean hasNext()：如果迭代具有更多的元素，则返回true

```java
/*
1. 通过集合的方法获取迭代器
2. hasNext方法判断集合是否有元素
3. next方法获取元素 遍历集合 输出在控制台
*/
//Iterator<E> iterator();返回此集合中元素的迭代器，通过集合的iterator()方法得到
Iterator<String> it = c.iterator();
/* Iterator中常用的方法
        E next();返回迭代中的下一个元素
        boolean hasNext();如果迭代具有多个元素，则返回true
*/
/*
        System.out.println(it.hasNext());
        System.out.println(it.next());
        System.out.println(it.next());
        System.out.println(it.hasNext());
        */
/*
        if(it.hasNext()){//判断有没有元素
            System.out.println(it.next());
        }
         */
while(it.hasNext()){
    //System.out.println(it.next());
    String s = it.next();
    System.out.println(s);
}
```



### 1.5 集合的使用步骤

**步骤1**：创建集合对象

**步骤2**：添加元素

​	**步骤2.1**：创建元素

​	**步骤2.2**：添加元素到集合

​	**合并**：直接添加元素到集合

**步骤3**：遍历集合

​	步骤3.1：通过集合对象获取迭代器对象

​	步骤3.2：通过迭代器对象的hasNext()方法判断是否还有元素

​	步骤3.3：通过迭代器对象的next()方法获取下一个元素

```java
Collection<String> c = new ArrayList<String>();//步骤1：创建集合对象
String s = "Hello";//步骤2.1：创建元素
c.add(s);//步骤2.2：添加元素到集合
c.add("World");//合并：直接添加元素到集合

Iterator<String> i = c.iterator();//步骤3.1：通过集合对象获取迭代器对象
while(i.hasNext()){//步骤3.2：通过迭代器对象的hasNext()方法判断是否还有元素
    String ss = i.next();
    System.out.println(ss);//步骤3.3：通过迭代器对象的next()方法获取下一个元素
}
```

### 1.6 Collection集合存储学生对象并遍历

**需求**：创建一个存储学生对象的集合，存储3个学生对象，使用程序实现在控制台遍历该集合

**思路：**

1. 定义学生类
2. 创建Collection集合对象
3. 创建学生对象
4. 把学生添加到集合
5. 遍历集合（迭代器的方法）

```java
//创建Collection集合对象
Collection<Student> student = new ArrayList<Student>();
//创建学生对象
Student s1 = new Student("jerry",11);
Student s2 = new Student("Mark", 12);
//把学生对象添加到集合
student.add(s1);
student.add(s2);
//使用迭代器遍历集合
Iterator<Student> i = student.iterator();
while(i.hasNext()){
    Student tmp = i.next();
    System.out.println(tmp.getName() + ": " + tmp.getAge());
}
```

> jerry: 11
> Mark: 12

## 2. List

### 2.1 List集合概述和特点

**概述：**

- 有序集合（序列），用户可以控制列表中的每个元素的插入位置。也可以根据索引访问元素，搜索列表中的元素
- 与Set集合不同，列表通常允许重复的元素

**特点：**

- 有序：存储和取出的元素顺序一致
- 可重复：存储的元素可以重复

```java
//创建List集合对象
List<String> list = new ArrayList<String>();
//添加元素
list.add("hello");
list.add("world");
list.add("hello");
System.out.println(list);
//迭代器遍历
Iterator<String> it = list.iterator();
while(it.hasNext()){
    String s = it.next();
    System.out.println(s);
}
```

### 2.2 List集合特有方法

| 方法名                       | 说明                                   |
| ---------------------------- | -------------------------------------- |
| void add(int idx, E element) | 在集合中的指定位置插入指定的元素       |
| E remove(int idx)            | 删除指定索引处的元素，返回被删除的元素 |
| E set(int idx, E element)    | 修改指定索引处的元素，返回被修改的元素 |
| E get(int idx)               | 返回指定索引处的元素                   |

### 2.3 List集合存储学生对象并遍历

**需求**：创建一个存储学生对象的集合，存储3个学生对象，使用程序实现在控制台遍历该集合

**思路：**

1. 定义学生类
2. 创建List集合对象
3. 创建学生对象
4. 把学生添加到集合
5. 遍历集合（迭代器和for循环的方法）

```java
List<Student> studentList = new ArrayList<Student>();
Student s1 = new Student("Mark", 11);
Student s2 = new Student("Jerry", 12);

studentList.add(s1);
studentList.add(s2);

Iterator<Student> st = studentList.iterator();
while(st.hasNext()){
    Student s = st.next();
    System.out.println(s.getAge() + s.getName());
}

for (int i = 0; i < studentList.size(); i++) {
    System.out.println(studentList.get(i).getAge() + studentList.get(i).getName());
}
```

### 2.3 并发修改异常

**ConcurrentModificationException**

**产生原因：**

- 迭代器遍历的过程中，通过集合对象修改了集合中元素的长度，造成了迭代器获取元素中判断预期修改值和实际修改值不一致

**解决方案：**

- 用for循环遍历，然后用集合对象做对应的操作即可

### 2.4 ListIterator

列表迭代器

- 通过List集合的ListIterator()方法得到，所以说它是List集合特有的迭代器
- 允许沿任一方向遍历列表的列表迭代器，在迭代期间可以修改列表，并获得列表中迭代器的当前位置

ListIterator中的常用方法：

| 常用方法               | 说明                                             |
| ---------------------- | ------------------------------------------------ |
| E next():              | 返回迭代中的下一个元素                           |
| boolean hasNext():     | 如果迭代器具有更多的元素，则返回true             |
| E previous():          | 返回列表中的上一个元素                           |
| boolean hasPrevious(): | 如果迭代器在反向遍历时还有更多的元素，则返回true |
| void add(E e):         | 将指定元素插入到列表                             |

### 2.5 增强for循环

目的： 简化数组和Collection集合的遍历

格式：

```java
for(元素数据类型 变量名:数组或者Collection集合){
    //
}
```

```java
int[] arr = {1, 2, 3, 6};
for(int i: arr){
    System.out.println(i);
}

List<String> list = new ArrayList<String>();
list.add("hello");
list.add("world");
for(String s:list){
    System.out.println(s);
}
```





## 3. Set



## 4. 泛型



## 5. Map



## 6. Collections

